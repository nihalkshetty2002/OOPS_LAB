
#include<iostream>
#include<fstream>

using namespace std;

class Employee{
        public:
                char name[20],dept[20],desg[20];
                int id,sal;
                float da,hra,gross,tax,net;

                Employee(){
                        id = sal = 0;
                }

                void getData(){
                        cout << "\nEnter name : ";
                        cin >> name;
                        cout << "Enter department : ";
                        cin >> dept;
                        cout << "Enter designation : ";
                        cin >> desg;
                        cout << "Enter salary : ";
                        cin >> sal;

                        da = sal * 0.12;
                        hra = sal * 0.14;
                        tax = sal * 0.3;
                        gross = sal + da + hra;
                        net = gross - tax;
                }

                void showData(){
                        cout << "\n\nID : " << id;
                        cout << "\nName : " << name;
                        cout << "\nDepartment : " << dept;
                        cout << "\nDesignation : " << desg;
                        cout << "\nSalary : " << sal;
                        cout << "\nDA : " << da;
                        cout << "\nHRA : " << hra;
                        cout << "\nGross sal : " << gross;
                        cout << "\nTax : " << tax;
                        cout << "\nNet sal : " << net;
                }
};


int getEmpId(){
        ifstream file;
        Employee obj;

        file.open("emp_data.dat");
        file.read( (char *) &obj, sizeof(obj) );
        while(!file.eof()){
                file.read( (char *) &obj, sizeof(obj) );
        }
        if(obj.id > 0)
                return obj.id += 1;
        else
                return 1;
}

int main(){
        Employee obj;
        ofstream o_file;
        int n,id,searchId;

        cout << "sizeof(Employee) : " << sizeof(obj);

        o_file.open("emp_data.dat",ios::app);
        cout << "Enter number of employees : ";
        cin >> n;

        id = getEmpId();
        while(n!=0){
                obj.getData();
                obj.id = id;
                o_file.write( (char *) &obj, sizeof(obj) );

                id++;
                n--;
        }
        o_file.close();

        cout << "Enter employee id to get pay slip : ";
        cin >> searchId;
        cout << "EMPLOYEE DATA : ";
        ifstream i_file;
        i_file.open("emp_data.dat");
        i_file.read( (char *) &obj, sizeof(obj) );
        while(!i_file.eof()){
                if(searchId == obj.id){
                        obj.showData();
                        break;
                }
                i_file.read( (char *) &obj, sizeof(obj) );
        }
        cout << endl;
        return 0;
}

-----------------------------------------------------------------------------------------------------------------------------------------------------

#include<iostream>
#include<fstream>

using namespace std;

class Item{
        public:
                char item_name[20];
                int item_code,unit_price,quantity;

                Item(){
                        item_code=0;
                }

                void getData(){
                        cout << "Enter Item name : ";
                        cin >> item_name;
                        cout << "Enter Unit price : ";
                        cin >> unit_price;
                        cout << "Enter quantity in hand : ";
                        cin >> quantity;
                }
                void showData(){
                        cout << "\n\nItem code : " << item_code << "\tItem name : " << item_name;
                        cout << "\nUnit price : " << unit_price << "\tQuantity : " << quantity << endl;
                }
};

int getItemId(){
        ifstream file;
        file.open("item_data.dat");
        Item obj;
        file.read( (char *) &obj,sizeof(obj) );
        while(!file.eof()){
                file.read( (char *) &obj,sizeof(obj) );
        }
        if(obj.item_code > 0)
                return obj.item_code += 1;
        else
                return 1;
}

int main(){
        ofstream o_file;
        fstream i_file;
        Item obj;
        int ch,id,i_num,pos,found;

        do{
                cout << "\n\n1.Add item\n2.Modify item\n3.Display Item\n4.Exit\nEnter your choice : ";
                cin >> ch;
                switch(ch){
                        case 1:
                                o_file.open("item_data.dat",ios::app);
                                id = getItemId();
                                obj.getData();
                                obj.item_code = id;
                                o_file.write( (char *) &obj, sizeof(obj) );
                                o_file.close();
                                cout << "\nItem added";
                                break;
                        case 2:
                                pos=0;
                                found=0;
                                cout << "Enter Item code : ";
                                cin >> i_num;
                                i_file.open("item_data.dat");
                                i_file.read( (char *) &obj, sizeof(obj) );
                                while(!i_file.eof()){
                                        if(i_num == obj.item_code){
                                                found = 1;
                                                cout << "\nEnter new item name,unit price and quantity in hand : ";
                                                cin >> obj.item_name >> obj.unit_price >> obj.quantity;
                                                i_file.seekp(pos);
                                                i_file.write( (char *) &obj, sizeof(obj));
                                                break;
                                        }
                                        pos += sizeof(obj);
                                        i_file.read( (char *) &obj, sizeof(obj) );
                                }
                                if(found == 0)
                                        cout << "\nItem not found";
                                i_file.close();
                                break;
                        case 3:
                                found = 0;
                                cout << "Enter Item code : ";
                                cin >> i_num;
                                i_file.open("item_data.dat");
                                i_file.read( (char *) &obj,sizeof(obj));
                                while(!i_file.eof()){
                                        if(i_num == obj.item_code){
                                                found = 1;
                                                obj.showData();
                                                break;
                                        }
                                        i_file.read( (char *) &obj,sizeof(obj));
                                }
                                if(found == 0)
                                        cout << "\nItem not found";
                                i_file.close();
                                break;
                        default: cout << endl;
                }
        }while(ch!=4);

        return 0;
}